{"ast":null,"code":"var _jsxFileName = \"/Users/armandeepsingh/CHITKARA/7TH SEM/PROJECTS/BLOOD BANK APP/src/components/Routes/ProtectedRoute.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../services/API\";\nimport { getCurrentUser } from \"../../redux/features/auth/authActions\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children\n}) => {\n  _s();\n  const dispatch = useDispatch();\n\n  //get user current\n  const getUser = async () => {\n    try {\n      const {\n        data\n      } = await API.get(\"/auth/current-user\");\n      if (data !== null && data !== void 0 && data.success) {\n        dispatch(getCurrentUser(data));\n      }\n    } catch (error) {\n      localStorage.clear();\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    getUser();\n  });\n  if (localStorage.getItem(\"token\")) {\n    return children;\n  } else {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 12\n    }, this);\n  }\n};\n_s(ProtectedRoute, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","useEffect","useDispatch","API","getCurrentUser","Navigate","jsxDEV","_jsxDEV","ProtectedRoute","children","_s","dispatch","getUser","data","get","success","error","localStorage","clear","console","log","getItem","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/armandeepsingh/CHITKARA/7TH SEM/PROJECTS/BLOOD BANK APP/src/components/Routes/ProtectedRoute.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../services/API\";\nimport { getCurrentUser } from \"../../redux/features/auth/authActions\";\nimport { Navigate } from \"react-router-dom\";\nconst ProtectedRoute = ({ children }) => {\n  const dispatch = useDispatch();\n\n  //get user current\n  const getUser = async () => {\n    try {\n      const { data } = await API.get(\"/auth/current-user\");\n      if (data?.success) {\n        dispatch(getCurrentUser(data));\n      }\n    } catch (error) {\n      localStorage.clear();\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getUser();\n  });\n\n  if (localStorage.getItem(\"token\")) {\n    return children;\n  } else {\n    return <Navigate to=\"/login\" />;\n  }\n};\n\nexport default ProtectedRoute;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,GAAG,MAAM,oBAAoB;AACpC,SAASC,cAAc,QAAQ,uCAAuC;AACtE,SAASC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC5C,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACvC,MAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAMU,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMV,GAAG,CAACW,GAAG,CAAC,oBAAoB,CAAC;MACpD,IAAID,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEE,OAAO,EAAE;QACjBJ,QAAQ,CAACP,cAAc,CAACS,IAAI,CAAC,CAAC;MAChC;IACF,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,YAAY,CAACC,KAAK,CAAC,CAAC;MACpBC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACpB;EACF,CAAC;EAEDf,SAAS,CAAC,MAAM;IACdW,OAAO,CAAC,CAAC;EACX,CAAC,CAAC;EAEF,IAAIK,YAAY,CAACI,OAAO,CAAC,OAAO,CAAC,EAAE;IACjC,OAAOZ,QAAQ;EACjB,CAAC,MAAM;IACL,oBAAOF,OAAA,CAACF,QAAQ;MAACiB,EAAE,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACjC;AACF,CAAC;AAAChB,EAAA,CAzBIF,cAAc;EAAA,QACDN,WAAW;AAAA;AAAAyB,EAAA,GADxBnB,cAAc;AA2BpB,eAAeA,cAAc;AAAC,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}